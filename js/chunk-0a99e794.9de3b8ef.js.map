{"version":3,"sources":["webpack:///./src/views/book/Single.vue?15e5","webpack:///./node_modules/core-js/modules/es.array.flat.js","webpack:///./node_modules/@jx3box/jx3box-map/src/components/Map.vue?f829","webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./node_modules/core-js/modules/es.array.unscopables.flat.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/internals/flatten-into-array.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/views/book/Single.vue","webpack:///./node_modules/@jx3box/jx3box-map/src/components/Map.vue","webpack:///node_modules/@jx3box/jx3box-map/src/components/Map.vue","webpack:///./node_modules/@jx3box/jx3box-map/src/components/Map.vue?12fe","webpack:///./node_modules/@jx3box/jx3box-map/src/components/Map.vue?c0ed","webpack:///src/views/book/Single.vue","webpack:///./src/views/book/Single.vue?88b6","webpack:///./src/views/book/Single.vue?7527"],"names":["$","flattenIntoArray","toObject","lengthOfArrayLike","toIntegerOrInfinity","arraySpeciesCreate","target","proto","flat","depthArg","arguments","length","undefined","O","this","sourceLen","A","$values","values","stat","$reduce","left","arrayMethodIsStrict","CHROME_VERSION","IS_NODE","STRICT_METHOD","CHROME_BUG","forced","reduce","callbackfn","addToUnscopables","DESCRIPTORS","uncurryThis","objectKeys","toIndexedObject","$propertyIsEnumerable","f","propertyIsEnumerable","push","createMethod","TO_ENTRIES","it","key","keys","i","result","module","exports","entries","IndexedObject","nativeJoin","join","ES3_STRINGS","Object","separator","isArray","doesNotExceedSafeInteger","bind","original","source","start","depth","mapper","thisArg","element","elementLen","targetIndex","sourceIndex","mapFn","aCallable","$TypeError","TypeError","IS_RIGHT","that","argumentsLength","memo","self","index","right","render","_vm","_c","_self","directives","name","rawName","value","loading","expression","staticClass","book","ItemID","attrs","_e","_v","_s","idKey","domProps","Desc","class","contentInfo","getProfessionType","ExtendProfessionID1","getOrigin","slot","getBossOrigin","BookName","RequireLevel","copy","ID","RequireLevelExt","RequirePlayerLevel","CostVigor","copyList","_l","meterial","item_id","count","bookMapSite","_m","parseInt","map","position","id","staticRenderFns","ref","style","wrapperSize","mapImg","_t","mapName","datas","k","pointStyle","title","content","props","mapId","type","default","data","popoverContent","width","height","computed","subId","x","y","_sub","_subScale","mapScale","mounted","window","beforeDestroy","methods","bottom","isPointsInRect","updateSize","component","components","Jx3boxMap","ItemIcon","SearchInput","Comment","wiki_post","post","compatible","is_empty","Name","map_id","drops","orgin","maps","getShopOrigin","bookProfession","getData","getInfo","client","then","finally","catch","loadData","wiki","supply","isEmpty","users","loadRevision","publish_url","triggerStat","postStat","bookMapInfo","post_id","isRevision","author_id","user_name","updated_at","fav_title","authors","filter","user_id","user_avatar","display_name","watch","handler"],"mappings":"kHAAA,W,qCCCA,IAAIA,EAAI,EAAQ,QACZC,EAAmB,EAAQ,QAC3BC,EAAW,EAAQ,QACnBC,EAAoB,EAAQ,QAC5BC,EAAsB,EAAQ,QAC9BC,EAAqB,EAAQ,QAIjCL,EAAE,CAAEM,OAAQ,QAASC,OAAO,GAAQ,CAClCC,KAAM,WACJ,IAAIC,EAAWC,UAAUC,OAASD,UAAU,QAAKE,EAC7CC,EAAIX,EAASY,MACbC,EAAYZ,EAAkBU,GAC9BG,EAAIX,EAAmBQ,EAAG,GAE9B,OADAG,EAAEL,OAASV,EAAiBe,EAAGH,EAAGA,EAAGE,EAAW,OAAgBH,IAAbH,EAAyB,EAAIL,EAAoBK,IAC7FO,M,oCCjBX,W,uBCAA,IAAIhB,EAAI,EAAQ,QACZiB,EAAU,EAAQ,QAAgCC,OAItDlB,EAAE,CAAEM,OAAQ,SAAUa,MAAM,GAAQ,CAClCD,OAAQ,SAAgBL,GACtB,OAAOI,EAAQJ,O,oCCNnB,IAAIb,EAAI,EAAQ,QACZoB,EAAU,EAAQ,QAA6BC,KAC/CC,EAAsB,EAAQ,QAC9BC,EAAiB,EAAQ,QACzBC,EAAU,EAAQ,QAElBC,EAAgBH,EAAoB,UAGpCI,GAAcF,GAAWD,EAAiB,IAAMA,EAAiB,GAIrEvB,EAAE,CAAEM,OAAQ,QAASC,OAAO,EAAMoB,QAASF,GAAiBC,GAAc,CACxEE,OAAQ,SAAgBC,GACtB,IAAIlB,EAASD,UAAUC,OACvB,OAAOS,EAAQN,KAAMe,EAAYlB,EAAQA,EAAS,EAAID,UAAU,QAAKE,O,4CCfzE,IAAIkB,EAAmB,EAAQ,QAG/BA,EAAiB,S,8CCLjB,IAAIC,EAAc,EAAQ,QACtBC,EAAc,EAAQ,QACtBC,EAAa,EAAQ,QACrBC,EAAkB,EAAQ,QAC1BC,EAAwB,EAAQ,QAA8CC,EAE9EC,EAAuBL,EAAYG,GACnCG,EAAON,EAAY,GAAGM,MAGtBC,EAAe,SAAUC,GAC3B,OAAO,SAAUC,GACf,IAKIC,EALA7B,EAAIqB,EAAgBO,GACpBE,EAAOV,EAAWpB,GAClBF,EAASgC,EAAKhC,OACdiC,EAAI,EACJC,EAAS,GAEb,MAAOlC,EAASiC,EACdF,EAAMC,EAAKC,KACNb,IAAeM,EAAqBxB,EAAG6B,IAC1CJ,EAAKO,EAAQL,EAAa,CAACE,EAAK7B,EAAE6B,IAAQ7B,EAAE6B,IAGhD,OAAOG,IAIXC,EAAOC,QAAU,CAGfC,QAAST,GAAa,GAGtBrB,OAAQqB,GAAa,K,kCCjCvB,IAAIvC,EAAI,EAAQ,QACZgC,EAAc,EAAQ,QACtBiB,EAAgB,EAAQ,QACxBf,EAAkB,EAAQ,QAC1BZ,EAAsB,EAAQ,QAE9B4B,EAAalB,EAAY,GAAGmB,MAE5BC,EAAcH,GAAiBI,OAC/B5B,EAAgBH,EAAoB,OAAQ,KAIhDtB,EAAE,CAAEM,OAAQ,QAASC,OAAO,EAAMoB,OAAQyB,IAAgB3B,GAAiB,CACzE0B,KAAM,SAAcG,GAClB,OAAOJ,EAAWhB,EAAgBpB,WAAqBF,IAAd0C,EAA0B,IAAMA,O,kCCf7E,IAAIC,EAAU,EAAQ,QAClBpD,EAAoB,EAAQ,QAC5BqD,EAA2B,EAAQ,QACnCC,EAAO,EAAQ,QAIfxD,EAAmB,SAAUK,EAAQoD,EAAUC,EAAQ5C,EAAW6C,EAAOC,EAAOC,EAAQC,GAC1F,IAGIC,EAASC,EAHTC,EAAcN,EACdO,EAAc,EACdC,IAAQN,GAASL,EAAKK,EAAQC,GAGlC,MAAOI,EAAcpD,EACfoD,KAAeR,IACjBK,EAAUI,EAAQA,EAAMT,EAAOQ,GAAcA,EAAaT,GAAYC,EAAOQ,GAEzEN,EAAQ,GAAKN,EAAQS,IACvBC,EAAa9D,EAAkB6D,GAC/BE,EAAcjE,EAAiBK,EAAQoD,EAAUM,EAASC,EAAYC,EAAaL,EAAQ,GAAK,IAEhGL,EAAyBU,EAAc,GACvC5D,EAAO4D,GAAeF,GAGxBE,KAEFC,IAEF,OAAOD,GAGTpB,EAAOC,QAAU9C,G,suMCjCjB,IAAIoE,EAAY,EAAQ,QACpBnE,EAAW,EAAQ,QACnB+C,EAAgB,EAAQ,QACxB9C,EAAoB,EAAQ,QAE5BmE,EAAaC,UAGbhC,EAAe,SAAUiC,GAC3B,OAAO,SAAUC,EAAM5C,EAAY6C,EAAiBC,GAClDN,EAAUxC,GACV,IAAIhB,EAAIX,EAASuE,GACbG,EAAO3B,EAAcpC,GACrBF,EAASR,EAAkBU,GAC3BgE,EAAQL,EAAW7D,EAAS,EAAI,EAChCiC,EAAI4B,GAAY,EAAI,EACxB,GAAIE,EAAkB,EAAG,MAAO,EAAM,CACpC,GAAIG,KAASD,EAAM,CACjBD,EAAOC,EAAKC,GACZA,GAASjC,EACT,MAGF,GADAiC,GAASjC,EACL4B,EAAWK,EAAQ,EAAIlE,GAAUkE,EACnC,MAAMP,EAAW,+CAGrB,KAAME,EAAWK,GAAS,EAAIlE,EAASkE,EAAOA,GAASjC,EAAOiC,KAASD,IACrED,EAAO9C,EAAW8C,EAAMC,EAAKC,GAAQA,EAAOhE,IAE9C,OAAO8D,IAIX7B,EAAOC,QAAU,CAGf1B,KAAMkB,GAAa,GAGnBuC,MAAOvC,GAAa,K,uDCxClBwC,EAAS,WAAkB,IAAIC,EAAIlE,KAAKmE,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAON,EAAIO,QAASC,WAAW,YAAYC,YAAY,eAAe,CAACR,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACR,EAAG,iBAAiB,GAAGA,EAAG,MAAM,CAACQ,YAAY,kBAAkB,CAAET,EAAIU,KAAMT,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACR,EAAG,IAAI,CAACQ,YAAY,oBAAoB,CAACR,EAAG,OAAO,CAACQ,YAAY,eAAe,CAAET,EAAIU,KAAKC,OAAQV,EAAG,YAAY,CAACW,MAAM,CAAC,QAAUZ,EAAIU,KAAKC,OAAO,KAAO,MAAMX,EAAIa,MAAM,GAAGZ,EAAG,OAAO,CAACQ,YAAY,cAAc,CAACT,EAAIc,GAAG,OAAOd,EAAIe,GAAGf,EAAIU,KAAKM,OAAO,OAAOf,EAAG,OAAO,CAACQ,YAAY,SAASQ,SAAS,CAAC,UAAYjB,EAAIe,GAAGf,EAAIU,KAAKQ,WAAWjB,EAAG,MAAM,CAACQ,YAAY,iCAAiC,CAACR,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACR,EAAG,MAAM,CAACkB,MAAM,SAASP,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,SAAS,OAAS,SAAS,QAAU,oBAAoB,aAAa,GAAG,KAAO,eAAe,UAAY,QAAQ,SAAW,OAAO,CAACX,EAAG,OAAO,CAACW,MAAM,CAAC,EAAI,+NAA+NX,EAAG,OAAO,CAACW,MAAM,CAAC,EAAI,ilCAAilCX,EAAG,OAAO,CAACW,MAAM,CAAC,EAAI,2VAA2VX,EAAG,OAAO,CAACQ,YAAY,SAAS,CAACT,EAAIc,GAAG,YAAYb,EAAG,MAAM,CAACQ,YAAY,aAAa,CAAET,EAAIU,KAAKU,YAAanB,EAAG,MAAM,CAACQ,YAAY,sBAAsB,CAACR,EAAG,MAAM,CAACQ,YAAY,eAAeQ,SAAS,CAAC,UAAYjB,EAAIe,GAAGf,EAAIU,KAAKU,kBAAkBpB,EAAIa,KAAKZ,EAAG,MAAM,CAACQ,YAAY,wBAAwB,CAACR,EAAG,IAAI,CAACQ,YAAY,cAAc,CAACT,EAAIc,GAAG,YAAYb,EAAG,MAAM,CAACQ,YAAY,eAAe,CAACR,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACT,EAAIc,GAAG,QAAQd,EAAIe,GAAGf,EAAIqB,kBAAkBrB,EAAIU,KAAKY,yBAAsD,OAA5BtB,EAAIuB,UAAUvB,EAAIU,MAAgBT,EAAG,MAAM,CAACQ,YAAY,sBAAsB,CAACT,EAAIc,GAAG,WAAWb,EAAG,aAAa,CAACW,MAAM,CAAC,UAAY,MAAM,eAAe,wBAAwB,CAACX,EAAG,MAAM,CAACW,MAAM,CAAC,KAAO,WAAWY,KAAK,WAAW,CAACvB,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACT,EAAIc,GAAG,QAAQb,EAAG,MAAM,CAACQ,YAAY,UAAUQ,SAAS,CAAC,UAAYjB,EAAIe,GAAGf,EAAIyB,cAAczB,EAAIU,YAAYT,EAAG,OAAO,CAACD,EAAIc,GAAGd,EAAIe,GAAGf,EAAIuB,UAAUvB,EAAIU,aAAa,GAAGT,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACT,EAAIc,GAAG,QAAQd,EAAIe,GAAGf,EAAIuB,UAAUvB,EAAIU,UAAUT,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACT,EAAIc,GAAG,QAAQd,EAAIe,GAAGf,EAAIU,KAAKgB,aAAazB,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACT,EAAIc,GAAG,QAAQd,EAAIe,GAAGf,EAAIU,KAAKiB,cAAc,SAAU3B,EAAIU,KAAKkB,MAAQ5B,EAAIU,KAAKkB,KAAKC,GAAI,CAAC5B,EAAG,IAAI,CAACQ,YAAY,cAAc,CAACT,EAAIc,GAAG,YAAYb,EAAG,MAAM,CAACQ,YAAY,eAAe,CAACR,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACR,EAAG,OAAO,CAACD,EAAIc,GAAG,WAAWb,EAAG,OAAO,CAACD,EAAIc,GAAGd,EAAIe,GAAGf,EAAIU,KAAKkB,KAAKD,cAAc,SAAS1B,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACR,EAAG,OAAO,CAACD,EAAIc,GAAG,KAAKd,EAAIe,GAAGf,EAAIqB,kBAAkBrB,EAAIU,KAAKY,sBAAsB,OAAOrB,EAAG,OAAO,CAACD,EAAIc,GAAGd,EAAIe,GAAGf,EAAIU,KAAKkB,KAAKE,iBAAiB,SAAS7B,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACR,EAAG,OAAO,CAACD,EAAIc,GAAG,WAAWb,EAAG,OAAO,CAACD,EAAIc,GAAGd,EAAIe,GAAGf,EAAIU,KAAKkB,KAAKG,oBAAoB,SAAS9B,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACR,EAAG,OAAO,CAACD,EAAIc,GAAG,WAAWb,EAAG,OAAO,CAACD,EAAIc,GAAGd,EAAIe,GAAGf,EAAIU,KAAKkB,KAAKI,WAAW,SAAUhC,EAAIU,KAAKuB,SAAStG,OAAQsE,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACR,EAAG,OAAO,CAACD,EAAIc,GAAG,WAAWd,EAAIkC,GAAIlC,EAAIU,KAAKuB,UAAU,SAASE,GAAU,OAAOlC,EAAG,YAAY,CAACvC,IAAIyE,EAASC,QAAQxB,MAAM,CAAC,QAAUuB,EAASC,QAAQ,KAAO,GAAG,OAASD,EAASE,MAAM,UAAW,SAAW,GAAGrC,EAAIa,QAAQb,EAAIa,MAAM,SAASb,EAAIa,KAAMb,EAAIsC,YAAY3G,OAAQsE,EAAG,MAAM,CAACQ,YAAY,0BAA0B,CAACT,EAAIuC,GAAG,GAAGtC,EAAG,aAAa,CAACQ,YAAY,YAAYG,MAAM,CAAC,SAAS4B,SAASxC,EAAIsC,YAAY,GAAGG,KAAK,MAAQzC,EAAIsC,YAAY,GAAGI,aAAa,GAAG1C,EAAIa,OAAOZ,EAAG,MAAM,CAACQ,YAAY,aAAa,CAACR,EAAG,aAAa,CAACW,MAAM,CAAC,mBAAmB,SAAS,CAACZ,EAAIc,GAAG,QAAQb,EAAG,UAAU,CAACW,MAAM,CAAC,GAAKZ,EAAI2C,GAAG,SAAW,WAAW,MAE9qKC,EAAkB,CAAC,WAAY,IAAI5C,EAAIlE,KAAKmE,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACR,EAAG,OAAO,CAACQ,YAAY,SAAS,CAACT,EAAIc,GAAG,cCF9If,G,iKAAS,WAAkB,IAAIC,EAAIlE,KAAKmE,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAC4C,IAAI,YAAYpC,YAAY,SAAS,CAACR,EAAG,MAAM,CAACQ,YAAY,iBAAiBqC,MAAO9C,EAAI+C,aAAc,CAAC9C,EAAG,MAAM,CAACQ,YAAY,YAAYG,MAAM,CAAC,IAAMZ,EAAIgD,OAAO,UAAY,WAAW/C,EAAG,MAAM,CAACQ,YAAY,wBAAwB,CAACT,EAAIiD,GAAG,SAAQ,WAAW,MAAO,CAAChD,EAAG,MAAM,CAACQ,YAAY,eAAe,CAACT,EAAIc,GAAGd,EAAIe,GAAGf,EAAIkD,eAAc,CAAC,MAAQlD,EAAIkD,WAAW,GAAGlD,EAAIkC,GAAIlC,EAAImD,OAAO,SAASvF,EAAEwF,GAAG,MAAO,CAACnD,EAAG,MAAM,CAACvC,IAAI0F,EAAE3C,YAAY,uBAAuBqC,MAAO9C,EAAIqD,WAAWzF,IAAK,CAACoC,EAAIiD,GAAG,SAAQ,WAAW,MAAO,CAAChD,EAAG,aAAa,CAACQ,YAAY,uBAAuBG,MAAM,CAAC,UAAY,MAAM,MAAQ,MAAM,QAAU,UAAU,CAACZ,EAAIiD,GAAG,WAAU,WAAW,MAAO,CAAChD,EAAG,MAAM,CAACA,EAAG,MAAM,CAACD,EAAIc,GAAGd,EAAIe,GAAGnD,EAAE0F,UAAUrD,EAAG,MAAM,CAACgB,SAAS,CAAC,UAAYjB,EAAIe,GAAGnD,EAAE2F,iBAAgB,CAAC,KAAO3F,IAAIqC,EAAG,OAAO,CAACQ,YAAY,cAAcG,MAAM,CAAC,KAAO,aAAaY,KAAK,eAAe,MAAK,CAAC,KAAO5D,KAAK,QAAO,OAEj8BgF,EAAkB,G,wBC8BP,GACfxC,iBACAoD,OACAC,OACAC,YACAC,WAEAR,OACAO,WACAC,mBAAA,YAGAC,gBACA,OACAC,kBACAC,WACAC,aAGAC,UACAC,iBACA,oBACA,kCACA,QACA,IACA,gBACA,OACAC,cACAC,cACAL,4BACAC,+BAEA,uCACAK,IACAC,cAGA,UAEAnB,mBACA,uCAEAoB,oBACA,kCAEAtB,kBACA,+FAEAD,uBACA,OACAe,sBACAC,2BAIAQ,mBACA,2BACA,kBACAC,sDAGAC,yBACAD,sDAEAE,SACArB,uBACA,oBACA,kBACA,mBACA,8BACA,+BACA,OACAhH,YACAsI,gBAGAC,2BACA,kCACA,OACAV,MACAC,UAGA,4BACA,mEAGAU,sBAAA,MACA,+EACA,aACA,kCACA,kDC3H8V,I,wBCQ1VC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,wJCsGA,GACf1E,kBACA2E,YAAAC,YAAAC,gBAAAC,mBAAAC,gBACAvB,gBACA,OACAwB,WACAzG,UACA0G,WAEAC,cACAC,YAEA7E,MACAM,SACAwE,QACAtE,QACAQ,YACAN,gBAEAb,WACA+B,iBAGAoC,SACAjD,0BACA,8BACA,mBACAgB,iBAAA,mCACA7F,sBACA,sBAEA6F,iBACA,+BACA,OACAgD,wBACArF,0BAIA5E,OACA,sCACA,gBACA,SAUA,OATAkK,uBACAC,EACAA,GACAA,eACA,oBACAC,oBAAA,6BACA,8DACA,OAEA,EAEA,UAEAC,2BACAtE,sBAAA,MACA,qBACA,kDACA,cACA,KAaA,OAZA,IACAoE,gDAEA,IACAA,kBAEA,WACAA,qBAEA,IACAA,QAEA,GAEAtE,8BACA,sDACAyE,oBAAA,gCACA,IAEAC,mBAAA,WACA,gBACAC,gBACArD,cACAsD,qBAEAC,kBAAA,MACA,SASA,GARAtC,0CAAA,wDACA,wDACA,gDACA,yEACAN,aACAC,mJAGA,2DACA,oFACA,uBACAK,cACA,qBACA,6BACAA,iBACAxB,qEACAC,qCAKA,YAEA8D,oBACA,gBAEAC,kBACA,iBAIAC,oBAAA,WAEA,SACAC,YAAA5C,YAAAf,WAAAsD,oBAAA,CAAAM,WAAA,kBACA,aAAA5H,WAAA2G,eAAAkB,YAAAC,UACA,aACApB,OACA1G,SACA8H,SAEA,aACA,kBAGA,oBAEAC,wBAAA,WAEAJ,6BAAA5C,cAAA,wBACA,iFAEA,oBAEAiD,6BACAC,uBACA,sBACAC,sCAEAA,iCAIAtC,mBACA,eACA,aACA,oBAEA,iBAGAP,UACAhD,iBACA,mCAEA2B,cACA,6CAEAsD,kBACA,iCAEAa,uBACA,+BAIAC,mBACA,mCAEAC,sBACA,oCAEAC,qBAAA,QACA,iGAEAC,qBAAA,QACA,oGAEAC,sBAAA,QACA,mHAEAC,qBAAA,QACA,6FAEAC,mBACA,iCAaA,IAXA,uEACA,QADA,IACAC,oBAAA,iCADA,IAEA7E,iBACA,OACA8E,aACAC,qBACAC,8BAEA,KAMAC,OACA/E,cACA,eACA,iBAEAoE,SACAY,mBACA,wBClV6Z,ICQzZ,G,UAAY,eACd,EACA5H,EACA6C,GACA,EACA,KACA,KACA,OAIa,e","file":"js/chunk-0a99e794.9de3b8ef.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Single.vue?vue&type=style&index=0&id=d4f211a8&prod&lang=less&\"","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://tc39.es/ecma262/#sec-array.prototype.flat\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = lengthOfArrayLike(O);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toIntegerOrInfinity(depthArg));\n    return A;\n  }\n});\n","export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./Map.vue?vue&type=style&index=0&id=0651a7b8&prod&lang=less&scoped=true&\"","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var length = arguments.length;\n    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);\n  }\n});\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('flat');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\nvar propertyIsEnumerable = uncurryThis($propertyIsEnumerable);\nvar push = uncurryThis([].push);\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable(O, key)) {\n        push(result, TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg) : false;\n  var element, elementLen;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        elementLen = lengthOfArrayLike(element);\n        targetIndex = flattenIntoArray(target, original, element, elementLen, targetIndex, depth - 1) - 1;\n      } else {\n        doesNotExceedSafeInteger(targetIndex + 1);\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","var aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nvar $TypeError = TypeError;\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aCallable(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = lengthOfArrayLike(O);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw $TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-book-view\"},[_c('div',{staticClass:\"m-search\"},[_c('search-input')],1),_c('div',{staticClass:\"m-book-content\"},[(_vm.book)?_c('div',{staticClass:\"w-book\"},[_c('p',{staticClass:\"u-title__warpper\"},[_c('span',{staticClass:\"u-name-icon\"},[(_vm.book.ItemID)?_c('item-icon',{attrs:{\"item_id\":_vm.book.ItemID,\"size\":36}}):_vm._e()],1),_c('span',{staticClass:\"u-title-id\"},[_vm._v(\" ID:\"+_vm._s(_vm.book.idKey)+\" \")]),_c('span',{staticClass:\"u-desc\",domProps:{\"innerHTML\":_vm._s(_vm.book.Desc)}})]),_c('div',{staticClass:\"vertical-item u-info__wrapper\"},[_c('div',{staticClass:\"u-header\"},[_c('svg',{class:'u-icon',attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"31.531\",\"height\":\"31.531\",\"viewBox\":\"0 0 31.531 31.531\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M11.872 24.961l-2.539.412a2.59 2.59 0 01-1.961-.468 2.606 2.606 0 01-1.043-1.72l-.223-1.482-4.407 4.407a.835.835 0 00.438 1.413l2.801.523.523 2.801a.838.838 0 001.413.438l5.755-5.755-.422-.427a.471.471 0 00-.335-.142z\"}}),_c('path',{attrs:{\"d\":\"M19.91 23.932l2.458.404a1.554 1.554 0 001.794-1.303l.37-2.458c.075-.492.383-.917.829-1.141l2.224-1.111a1.564 1.564 0 00.686-2.111L27.129 14a1.518 1.518 0 010-1.403l1.144-2.211c.19-.37.227-.802.098-1.199a1.57 1.57 0 00-.785-.911l-2.223-1.112a1.53 1.53 0 01-.829-1.14l-.37-2.458a1.556 1.556 0 00-.624-1.026 1.555 1.555 0 00-1.17-.279l-2.457.405a1.52 1.52 0 01-1.335-.434L16.828.459A1.568 1.568 0 0015.766 0a1.566 1.566 0 00-1.061.459l-1.75 1.773a1.52 1.52 0 01-1.335.434l-2.457-.405a1.554 1.554 0 00-1.17.279 1.556 1.556 0 00-.624 1.026l-.37 2.458a1.532 1.532 0 01-.83 1.14L3.947 8.276a1.568 1.568 0 00-.785.912c-.129.396-.093.829.097 1.199l1.144 2.211c.229.439.229.964 0 1.403l-1.143 2.21a1.563 1.563 0 00.687 2.111l2.224 1.111c.446.224.753.649.829 1.141l.37 2.458c.062.412.288.783.624 1.026a1.55 1.55 0 001.17.277l2.458-.404c.489-.082.987.08 1.335.436l1.75 1.771a1.55 1.55 0 001.059.459 1.55 1.55 0 001.059-.459l1.75-1.771a1.517 1.517 0 011.335-.435zm-4.144-1.39c-5.205-.026-9.431-4.266-9.431-9.477 0-5.21 4.226-9.451 9.431-9.478 5.205.026 9.432 4.268 9.432 9.478-.001 5.211-4.227 9.451-9.432 9.477z\"}}),_c('path',{attrs:{\"d\":\"M15.766 4.955c-4.444.028-8.05 3.648-8.05 8.097 0 4.447 3.606 8.068 8.05 8.096 4.444-.027 8.05-3.648 8.05-8.096-.001-4.448-3.606-8.069-8.05-8.097zM29.833 26.11l-4.407-4.407-.223 1.482a2.615 2.615 0 01-3.004 2.188l-2.539-.412a.468.468 0 00-.335.143l-.422.427 5.755 5.755a.838.838 0 001.413-.438l.522-2.801 2.801-.523a.837.837 0 00.439-1.414z\"}})]),_c('span',{staticClass:\"u-txt\"},[_vm._v(\"书籍内容\")])]),_c('div',{staticClass:\"u-content\"},[(_vm.book.contentInfo)?_c('div',{staticClass:\"book-info__content\"},[_c('div',{staticClass:\"book-content\",domProps:{\"innerHTML\":_vm._s(_vm.book.contentInfo)}})]):_vm._e(),_c('div',{staticClass:\"common-info__content\"},[_c('p',{staticClass:\"u-subtitle\"},[_vm._v(\"【书籍信息】\")]),_c('div',{staticClass:\"u-book-info\"},[_c('div',{staticClass:\"u-item\"},[_vm._v(\"书籍类型：\"+_vm._s(_vm.getProfessionType(_vm.book.ExtendProfessionID1)))]),(_vm.getOrigin(_vm.book) === '秘境')?_c('div',{staticClass:\"u-item book-origin\"},[_vm._v(\" 书籍来源： \"),_c('el-tooltip',{attrs:{\"placement\":\"top\",\"popper-class\":\"book-notice-tooltip\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('div',{staticClass:\"u-item\"},[_vm._v(\"秘境\")]),_c('div',{staticClass:\"book-fb\",domProps:{\"innerHTML\":_vm._s(_vm.getBossOrigin(_vm.book))}})]),_c('span',[_vm._v(_vm._s(_vm.getOrigin(_vm.book)))])])],1):_c('div',{staticClass:\"u-item\"},[_vm._v(\"书籍来源：\"+_vm._s(_vm.getOrigin(_vm.book)))]),_c('div',{staticClass:\"u-item\"},[_vm._v(\"所属套书：\"+_vm._s(_vm.book.BookName))]),_c('div',{staticClass:\"u-item\"},[_vm._v(\"阅读等级：\"+_vm._s(_vm.book.RequireLevel)+\"级\")])]),(_vm.book.copy && _vm.book.copy.ID)?[_c('p',{staticClass:\"u-subtitle\"},[_vm._v(\"【抄录信息】\")]),_c('div',{staticClass:\"u-book-info\"},[_c('div',{staticClass:\"u-item\"},[_c('span',[_vm._v(\"需求阅读：\")]),_c('span',[_vm._v(_vm._s(_vm.book.copy.RequireLevel)+\"级\")])]),_c('div',{staticClass:\"u-item\"},[_c('span',[_vm._v(\"需求\"+_vm._s(_vm.getProfessionType(_vm.book.ExtendProfessionID1))+\"：\")]),_c('span',[_vm._v(_vm._s(_vm.book.copy.RequireLevelExt)+\"级\")])]),_c('div',{staticClass:\"u-item\"},[_c('span',[_vm._v(\"角色等级：\")]),_c('span',[_vm._v(_vm._s(_vm.book.copy.RequirePlayerLevel)+\"级\")])]),_c('div',{staticClass:\"u-item\"},[_c('span',[_vm._v(\"消耗精力：\")]),_c('span',[_vm._v(_vm._s(_vm.book.copy.CostVigor)+\"点\")])]),(_vm.book.copyList.length)?_c('div',{staticClass:\"u-item\"},[_c('span',[_vm._v(\"消耗材料：\")]),_vm._l((_vm.book.copyList),function(meterial){return _c('item-icon',{key:meterial.item_id,attrs:{\"item_id\":meterial.item_id,\"size\":28,\"amount\":meterial.count,\"onlyIcon\":true}})})],2):_vm._e()])]:_vm._e()],2)])])]):_vm._e(),(_vm.bookMapSite.length)?_c('div',{staticClass:\"vertical-item book-map\"},[_vm._m(0),_c('jx3box-map',{staticClass:\"u-content\",attrs:{\"map-id\":parseInt(_vm.bookMapSite[0].map),\"datas\":_vm.bookMapSite[0].position}})],1):_vm._e()]),_c('div',{staticClass:\"m-comment\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"讨论\")]),_c('Comment',{attrs:{\"id\":_vm.id,\"category\":\"book\"}})],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"u-header\"},[_c('span',{staticClass:\"u-txt\"},[_vm._v(\"碑铭信息\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"component\",staticClass:\"c-map\"},[_c('div',{staticClass:\"u-map__wrapper\",style:(_vm.wrapperSize)},[_c('img',{staticClass:\"u-map-img\",attrs:{\"src\":_vm.mapImg,\"draggable\":\"false\"}}),_c('div',{staticClass:\"u-map-title__wrapper\"},[_vm._t(\"title\",function(){return [_c('div',{staticClass:\"u-map-title\"},[_vm._v(_vm._s(_vm.mapName))])]},{\"title\":_vm.mapName})],2),_vm._l((_vm.datas),function(i,k){return [_c('div',{key:k,staticClass:\"u-map-point__wrapper\",style:(_vm.pointStyle(i))},[_vm._t(\"point\",function(){return [_c('el-popover',{staticClass:\"u-map-point__popover\",attrs:{\"placement\":\"top\",\"width\":\"200\",\"trigger\":\"hover\"}},[_vm._t(\"popover\",function(){return [_c('div',[_c('div',[_vm._v(_vm._s(i.title))]),_c('div',{domProps:{\"innerHTML\":_vm._s(i.content)}})])]},{\"data\":i}),_c('span',{staticClass:\"u-map-point\",attrs:{\"slot\":\"reference\"},slot:\"reference\"})],2)]},{\"data\":i})],2)]})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div ref=\"component\" class=\"c-map\">\n        <div class=\"u-map__wrapper\" :style=\"wrapperSize\">\n            <img class=\"u-map-img\" :src=\"mapImg\" draggable=\"false\" />\n            <div class=\"u-map-title__wrapper\">\n                <slot name=\"title\" v-bind:title=\"mapName\">\n                    <div class=\"u-map-title\">{{ mapName }}</div>\n                </slot>\n            </div>\n            <template v-for=\"(i, k) in datas\">\n                <div class=\"u-map-point__wrapper\" :style=\"pointStyle(i)\" :key=\"k\">\n                    <slot name=\"point\" v-bind:data=\"i\">\n                        <el-popover class=\"u-map-point__popover\" placement=\"top\" width=\"200\" trigger=\"hover\">\n                            <slot name=\"popover\" v-bind:data=\"i\">\n                                <div>\n                                    <div>{{ i.title }}</div>\n                                    <div v-html=\"i.content\"></div>\n                                </div>\n                            </slot>\n                            <span slot=\"reference\" class=\"u-map-point\"> </span>\n                        </el-popover>\n                    </slot>\n                </div>\n            </template>\n        </div>\n    </div>\n</template>\n\n<script>\nimport jx3boxData from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport mapScales from \"../data/map_scales.json\";\n\nexport default {\n    name: \"Jx3boxMap\",\n    props: {\n        mapId: {\n            type: Number,\n            default: 1,\n        },\n        datas: {\n            type: Array,\n            default: () => [],\n        },\n    },\n    data() {\n        return {\n            popoverContent: \"\",\n            width: 1024,\n            height: 896,\n        };\n    },\n    computed: {\n        subId() {\n            let scales = mapScales[this.mapId];\n            if (!scales || Object.keys(scales) <= 1) return 0;\n            let _sub = 0;\n            let _subScale = 0;\n            for (let sub in scales) {\n                let rect = {\n                    x: scales[sub].StartX,\n                    y: scales[sub].StartY,\n                    width: scales[sub].Width / scales[sub].Scale,\n                    height: scales[sub].Height / scales[sub].Scale,\n                };\n                if (this.isPointsInRect(rect) && scales[sub].Scale > _subScale) {\n                    _sub = sub;\n                    _subScale = scales[sub].Scale;\n                }\n            }\n            return _sub;\n        },\n        mapName() {\n            return mapScales[this.mapId][this.subId].Name;\n        },\n        mapScale() {\n            return mapScales[this.mapId][this.subId];\n        },\n        mapImg() {\n            return `${jx3boxData.__imgPath}map/maps/map_${this.mapId}_${this.subId}.png`;\n        },\n        wrapperSize() {\n            return {\n                width: this.width + \"px\",\n                height: this.height + \"px\",\n            };\n        },\n    },\n    mounted() {\n        this.$nextTick(function () {\n            this.updateSize();\n            window.addEventListener(\"resize\", this.updateSize);\n        });\n    },\n    beforeDestroy() {\n        window.removeEventListener(\"resize\", this.updateSize);\n    },\n    methods: {\n        pointStyle(item) {\n            const scale = this.mapScale;\n            const Width = scale.Width / scale.Scale;\n            const Height = scale.Height / scale.Scale;\n            const left = ((item.x - scale.StartX) / Width) * this.width;\n            const bottom = ((item.y - scale.StartY) / Height) * this.height;\n            return {\n                left: left + \"px\",\n                bottom: bottom + \"px\",\n            };\n        },\n        isPointsInRect(rect) {\n            let points = this.datas.map((p) => {\n                return {\n                    x: p.x,\n                    y: p.y,\n                };\n            });\n            return points.every((p) => {\n                return p.x >= rect.x && p.x <= rect.x + rect.width && p.y >= rect.y && p.y <= rect.y + rect.height;\n            });\n        },\n        updateSize() {\n            this.width = this.$refs[\"component\"]?.clientWidth;\n            if (!this.width) return;\n            this.height = this.width / (1024 / 896);\n            this.$emit(\"resize\", [this.width, this.height]);\n        },\n    },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.c-map {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    .u-map__wrapper {\n        display: inline-block;\n        position: relative;\n        border: 1px solid rgb(238, 238, 238);\n        box-shadow: rgb(0 0 0 / 10%) 0px 0px 3px;\n        box-sizing: border-box;\n        user-select: none;\n        height: 100%;\n\n        .u-map-img {\n            display: block;\n            width: 100%;\n            height: 100%;\n            z-index: 1;\n        }\n\n        .u-map-title__wrapper {\n            z-index: 2;\n            position: absolute;\n\n            top: 16px;\n            width: 100%;\n            display: flex;\n            justify-content: center;\n\n            .u-map-title {\n                user-select: text;\n                color: #efe;\n                font-weight: bold;\n                padding: 6px;\n                background: rgba(0, 0, 0, 0.5);\n            }\n        }\n\n        .u-map-point__wrapper {\n            z-index: 3;\n            position: absolute;\n\n            .u-map-point__popover {\n                display: block;\n                width: 10px;\n                height: 10px;\n                background: #f94343;\n                border: #efe solid 1px;\n                cursor: pointer;\n                transition: all 0.1s ease-in-out;\n                &:hover {\n                    transform: scale(1.6);\n                }\n            }\n\n            .u-map-point {\n                display: block;\n                width: 10px;\n                height: 10px;\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--13-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--1-0!../../../../vue-loader/lib/index.js??vue-loader-options!../../../../vue-svg-inline-loader/dist/index.min.js!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=0651a7b8&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=0651a7b8&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0651a7b8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div v-loading=\"loading\" class=\"m-book-view\">\n        <div class=\"m-search\">\n            <search-input></search-input>\n        </div>\n        <div class=\"m-book-content\">\n            <div class=\"w-book\" v-if=\"book\">\n                <p class=\"u-title__warpper\">\n                    <span class=\"u-name-icon\">\n                        <item-icon v-if=\"book.ItemID\" :item_id=\"book.ItemID\" :size=\"36\"></item-icon>\n                    </span>\n                    <span class=\"u-title-id\"> ID:{{ book.idKey }} </span>\n                    <span class=\"u-desc\" v-html=\"book.Desc\"></span>\n                </p>\n                <div class=\"vertical-item u-info__wrapper\">\n                    <div class=\"u-header\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31.531\" height=\"31.531\" viewBox=\"0 0 31.531 31.531\" v-bind:class=\"'u-icon'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M11.872 24.961l-2.539.412a2.59 2.59 0 01-1.961-.468 2.606 2.606 0 01-1.043-1.72l-.223-1.482-4.407 4.407a.835.835 0 00.438 1.413l2.801.523.523 2.801a.838.838 0 001.413.438l5.755-5.755-.422-.427a.471.471 0 00-.335-.142z\"/><path d=\"M19.91 23.932l2.458.404a1.554 1.554 0 001.794-1.303l.37-2.458c.075-.492.383-.917.829-1.141l2.224-1.111a1.564 1.564 0 00.686-2.111L27.129 14a1.518 1.518 0 010-1.403l1.144-2.211c.19-.37.227-.802.098-1.199a1.57 1.57 0 00-.785-.911l-2.223-1.112a1.53 1.53 0 01-.829-1.14l-.37-2.458a1.556 1.556 0 00-.624-1.026 1.555 1.555 0 00-1.17-.279l-2.457.405a1.52 1.52 0 01-1.335-.434L16.828.459A1.568 1.568 0 0015.766 0a1.566 1.566 0 00-1.061.459l-1.75 1.773a1.52 1.52 0 01-1.335.434l-2.457-.405a1.554 1.554 0 00-1.17.279 1.556 1.556 0 00-.624 1.026l-.37 2.458a1.532 1.532 0 01-.83 1.14L3.947 8.276a1.568 1.568 0 00-.785.912c-.129.396-.093.829.097 1.199l1.144 2.211c.229.439.229.964 0 1.403l-1.143 2.21a1.563 1.563 0 00.687 2.111l2.224 1.111c.446.224.753.649.829 1.141l.37 2.458c.062.412.288.783.624 1.026a1.55 1.55 0 001.17.277l2.458-.404c.489-.082.987.08 1.335.436l1.75 1.771a1.55 1.55 0 001.059.459 1.55 1.55 0 001.059-.459l1.75-1.771a1.517 1.517 0 011.335-.435zm-4.144-1.39c-5.205-.026-9.431-4.266-9.431-9.477 0-5.21 4.226-9.451 9.431-9.478 5.205.026 9.432 4.268 9.432 9.478-.001 5.211-4.227 9.451-9.432 9.477z\"/><path d=\"M15.766 4.955c-4.444.028-8.05 3.648-8.05 8.097 0 4.447 3.606 8.068 8.05 8.096 4.444-.027 8.05-3.648 8.05-8.096-.001-4.448-3.606-8.069-8.05-8.097zM29.833 26.11l-4.407-4.407-.223 1.482a2.615 2.615 0 01-3.004 2.188l-2.539-.412a.468.468 0 00-.335.143l-.422.427 5.755 5.755a.838.838 0 001.413-.438l.522-2.801 2.801-.523a.837.837 0 00.439-1.414z\"/></svg>\n                        <span class=\"u-txt\">书籍内容</span>\n                    </div>\n                    <div class=\"u-content\">\n                        <div v-if=\"book.contentInfo\" class=\"book-info__content\">\n                            <div class=\"book-content\" v-html=\"book.contentInfo\"></div>\n                        </div>\n                        <div class=\"common-info__content\">\n                            <p class=\"u-subtitle\">【书籍信息】</p>\n                            <div class=\"u-book-info\">\n                                <div class=\"u-item\">书籍类型：{{ getProfessionType(book.ExtendProfessionID1) }}</div>\n                                <div v-if=\"getOrigin(book) === '秘境'\" class=\"u-item book-origin\">\n                                    书籍来源：\n                                    <el-tooltip placement=\"top\" popper-class=\"book-notice-tooltip\">\n                                        <div slot=\"content\">\n                                            <div class=\"u-item\">秘境</div>\n                                            <div class=\"book-fb\" v-html=\"getBossOrigin(book)\"></div>\n                                        </div>\n                                        <span>{{ getOrigin(book) }}</span>\n                                    </el-tooltip>\n                                </div>\n                                <div v-else class=\"u-item\">书籍来源：{{ getOrigin(book) }}</div>\n                                <div class=\"u-item\">所属套书：{{ book.BookName }}</div>\n                                <div class=\"u-item\">阅读等级：{{ book.RequireLevel }}级</div>\n                            </div>\n                            <template v-if=\"book.copy && book.copy.ID\">\n                                <p class=\"u-subtitle\">【抄录信息】</p>\n                                <div class=\"u-book-info\">\n                                    <div class=\"u-item\">\n                                        <span>需求阅读：</span>\n                                        <span>{{ book.copy.RequireLevel }}级</span>\n                                    </div>\n                                    <div class=\"u-item\">\n                                        <span>需求{{ getProfessionType(book.ExtendProfessionID1) }}：</span>\n                                        <span>{{ book.copy.RequireLevelExt }}级</span>\n                                    </div>\n                                    <div class=\"u-item\">\n                                        <span>角色等级：</span>\n                                        <span>{{ book.copy.RequirePlayerLevel }}级</span>\n                                    </div>\n                                    <div class=\"u-item\">\n                                        <span>消耗精力：</span>\n                                        <span>{{ book.copy.CostVigor }}点</span>\n                                    </div>\n                                    <div v-if=\"book.copyList.length\" class=\"u-item\">\n                                        <span>消耗材料：</span>\n                                        <item-icon\n                                            v-for=\"meterial in book.copyList\"\n                                            :key=\"meterial.item_id\"\n                                            :item_id=\"meterial.item_id\"\n                                            :size=\"28\"\n                                            :amount=\"meterial.count\"\n                                            :onlyIcon=\"true\"\n                                        ></item-icon>\n                                    </div>\n                                </div>\n                            </template>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div v-if=\"bookMapSite.length\" class=\"vertical-item book-map\">\n                <div class=\"u-header\">\n                    <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31.531\" height=\"31.531\" viewBox=\"0 0 31.531 31.531\" v-bind:class=\"'u-icon'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M11.872 24.961l-2.539.412a2.59 2.59 0 01-1.961-.468 2.606 2.606 0 01-1.043-1.72l-.223-1.482-4.407 4.407a.835.835 0 00.438 1.413l2.801.523.523 2.801a.838.838 0 001.413.438l5.755-5.755-.422-.427a.471.471 0 00-.335-.142z\"/><path d=\"M19.91 23.932l2.458.404a1.554 1.554 0 001.794-1.303l.37-2.458c.075-.492.383-.917.829-1.141l2.224-1.111a1.564 1.564 0 00.686-2.111L27.129 14a1.518 1.518 0 010-1.403l1.144-2.211c.19-.37.227-.802.098-1.199a1.57 1.57 0 00-.785-.911l-2.223-1.112a1.53 1.53 0 01-.829-1.14l-.37-2.458a1.556 1.556 0 00-.624-1.026 1.555 1.555 0 00-1.17-.279l-2.457.405a1.52 1.52 0 01-1.335-.434L16.828.459A1.568 1.568 0 0015.766 0a1.566 1.566 0 00-1.061.459l-1.75 1.773a1.52 1.52 0 01-1.335.434l-2.457-.405a1.554 1.554 0 00-1.17.279 1.556 1.556 0 00-.624 1.026l-.37 2.458a1.532 1.532 0 01-.83 1.14L3.947 8.276a1.568 1.568 0 00-.785.912c-.129.396-.093.829.097 1.199l1.144 2.211c.229.439.229.964 0 1.403l-1.143 2.21a1.563 1.563 0 00.687 2.111l2.224 1.111c.446.224.753.649.829 1.141l.37 2.458c.062.412.288.783.624 1.026a1.55 1.55 0 001.17.277l2.458-.404c.489-.082.987.08 1.335.436l1.75 1.771a1.55 1.55 0 001.059.459 1.55 1.55 0 001.059-.459l1.75-1.771a1.517 1.517 0 011.335-.435zm-4.144-1.39c-5.205-.026-9.431-4.266-9.431-9.477 0-5.21 4.226-9.451 9.431-9.478 5.205.026 9.432 4.268 9.432 9.478-.001 5.211-4.227 9.451-9.432 9.477z\"/><path d=\"M15.766 4.955c-4.444.028-8.05 3.648-8.05 8.097 0 4.447 3.606 8.068 8.05 8.096 4.444-.027 8.05-3.648 8.05-8.096-.001-4.448-3.606-8.069-8.05-8.097zM29.833 26.11l-4.407-4.407-.223 1.482a2.615 2.615 0 01-3.004 2.188l-2.539-.412a.468.468 0 00-.335.143l-.422.427 5.755 5.755a.838.838 0 001.413-.438l.522-2.801 2.801-.523a.837.837 0 00.439-1.414z\"/></svg> -->\n                    <span class=\"u-txt\">碑铭信息</span>\n                </div>\n                <jx3box-map\n                    class=\"u-content\"\n                    :map-id=\"parseInt(bookMapSite[0].map)\"\n                    :datas=\"bookMapSite[0].position\"\n                ></jx3box-map>\n            </div>\n        </div>\n        <div class=\"m-comment\">\n            <el-divider content-position=\"left\">讨论</el-divider>\n            <Comment :id=\"id\" category=\"book\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport Jx3boxMap from \"@jx3box/jx3box-map/src/components/Map.vue\";\nimport ItemIcon from \"@/components/book/common/item_icon.vue\";\nimport SearchInput from \"@/components/book/common/search_input.vue\";\nimport bookProfession from \"@/assets/data/book_profession.json\";\n// 碑铭坐标json\nimport bookMapInfoStd from \"@/assets/data/stele_std_fwd.json\";\nimport bookMapInfoOrigin from \"@/assets/data/stele_origin_fwd.json\";\n\n// 副本地图json\nimport maps_std from \"@jx3box/jx3box-data/data/fb/fb_map.json\";\nimport maps_orgin from \"@jx3box/jx3box-data/data/fb/fb_map_origin.json\";\n\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nimport { postStat } from \"@jx3box/jx3box-common/js/stat.js\";\nimport { wiki } from \"@jx3box/jx3box-common/js/wiki.js\";\n// import { getAppIcon } from \"@jx3box/jx3box-common/js/utils\";\n\nimport { publishLink, ts2str, showAvatar, iconLink } from \"@jx3box/jx3box-common/js/utils\";\n\nimport { getInfo } from \"@/service/book\";\n// import isArray from \"lodash/isArray\";\nimport Comment from \"@jx3box/jx3box-comment-ui/src/Comment.vue\";\n\nexport default {\n    name: \"bookSingle\",\n    components: { Jx3boxMap, ItemIcon, SearchInput, Comment },\n    data() {\n        return {\n            wiki_post: {\n                source: {},\n                post: null,\n            },\n            compatible: false,\n            is_empty: true,\n\n            book: {\n                idKey: \"\",\n                Name: \"\",\n                Desc: \"\",\n                BookName: \"\",\n                contentInfo: \"\",\n            },\n            loading: false,\n            bookMapSite: [], // 碑铭点位信息\n        };\n    },\n    methods: {\n        getBossOrigin(book) {\n            const fbMaps = this.client === \"std\" ? maps_std : maps_orgin;\n            const maps = Object.values(fbMaps)\n                .map((item) => Object.values(item.dungeon))\n                .reduce(function (a, b) {\n                    return a.concat(b);\n                })\n                .map((item) => {\n                    return item.maps.map((mItem) => {\n                        return {\n                            map_id: Number(mItem.map_id),\n                            name: mItem.mode + item.name,\n                        };\n                    });\n                })\n                .flat();\n            const drops = book?.drops;\n            if (drops && drops.length) {\n                let orgin = \"\";\n                drops.forEach((item) => {\n                    orgin =\n                        orgin +\n                        (orgin ? \"<br />\" : \"\") +\n                        (\"[\" + item.BossName + \"]\") +\n                        (maps.find((mItem) => mItem.map_id === item.MapID)\n                            ? \"(\" + maps.find((mItem) => mItem.map_id === item.MapID).name + \")\"\n                            : \"\");\n                });\n                return orgin;\n            }\n            return \"\";\n        },\n        getShopOrigin() {},\n        getOrigin(item) {\n            const tempId = item.DoodadTemplateID;\n            const shopName = item.shop?.ShopName;\n            const drops = item.drops || [];\n            let orgin = \"\";\n            if (tempId) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + (this.bookMapInfo[tempId] ? \"碑铭\" : \"其它\");\n            }\n            if (shopName) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + shopName;\n            }\n            if (drops.length) {\n                orgin = orgin + (orgin ? \"/\" : \"\") + \"秘境\";\n            }\n            if (!orgin) {\n                orgin = \"其它\";\n            }\n            return orgin;\n        },\n        getProfessionType(type) {\n            return bookProfession.find((item) => item.id === Number(type))\n                ? bookProfession.find((item) => item.id === Number(type)).name\n                : \"\";\n        },\n        getData() {\n            this.loading = true;\n            getInfo({\n                id: this.idKey,\n                client: this.client,\n            })\n                .then((res) => {\n                    const data = res.data;\n                    data.contentInfo = data.contents.map((item) => item.content.replace(/\\\\n/g, \"<br>\")).join(\"<br>\");\n                    if (data.DoodadTemplateID && this.bookMapInfo[data.DoodadTemplateID]) {\n                        this.bookMapSite = this.bookMapInfo[data.DoodadTemplateID];\n                        this.bookMapSite[0].position[0] = Object.assign(this.bookMapSite[0].position[0], {\n                            title: data.Name,\n                            content: `坐标：(${this.bookMapSite[0].position[0].x},${this.bookMapSite[0].position[0].y},${this.bookMapSite[0].position[0].z})`,\n                        });\n                    }\n                    if (data?.copy?.ID) {\n                        const keyArr = Object.keys(data.copy).filter((key) => key.indexOf(\"RequireItem\") > -1);\n                        let len = parseInt(keyArr.length / 3);\n                        data.copyList = [];\n                        for (let i = 1; i <= len; i++) {\n                            if (data.copy[\"RequireItemType\" + i]) {\n                                data.copyList.push({\n                                    item_id: data.copy[\"RequireItemType\" + i] + \"_\" + data.copy[\"RequireItemIndex\" + i],\n                                    count: data.copy[\"RequireItemCount\" + i],\n                                });\n                            }\n                        }\n                    }\n                    this.book = data;\n                })\n                .finally(() => {\n                    this.loading = false;\n                })\n                .catch(() => {\n                    this.loading = false;\n                });\n        },\n        //百科相关\n        loadData: function () {\n            // 获取最新攻略\n            if (this.id) {\n                wiki.mix({ type: \"book\", id: this.id, client: this.client }, { supply: 1 }).then((res) => {\n                    const { post, source, compatible, isEmpty, users } = res;\n                    this.wiki_post = {\n                        post: post,\n                        source: source,\n                        users,\n                    };\n                    this.is_empty = isEmpty;\n                    this.compatible = compatible;\n                });\n            }\n            this.triggerStat();\n        },\n        loadRevision: function () {\n            // 获取指定攻略\n            wiki.getById(this.post_id, { type: \"book\" }).then((res) => {\n                this.wiki_post = res?.data?.data;\n            });\n            this.triggerStat();\n        },\n        publish_url: publishLink,\n        triggerStat: function () {\n            if (this.client == \"origin\") {\n                postStat(\"origin_book\", this.id);\n            } else {\n                postStat(\"book\", this.id);\n            }\n        },\n    },\n    mounted() {\n        this.getData();\n        if (this.post_id) {\n            this.loadRevision();\n        } else {\n            this.loadData();\n        }\n    },\n    computed: {\n        idKey: function () {\n            return this.$route.params.book_id;\n        },\n        id: function () {\n            return parseInt(this.$route.params.book_id);\n        },\n        client() {\n            return this.$store.state.client;\n        },\n        bookMapInfo() {\n            return this.client === \"std\" ? bookMapInfoStd : bookMapInfoOrigin;\n        },\n\n        //wiki相关\n        post_id: function () {\n            return this.$route.params.post_id;\n        },\n        isRevision: function () {\n            return !!this.$route.params.post_id;\n        },\n        author_id: function () {\n            return ~~this.wiki_post?.post?.user_id;\n        },\n        user_name: function () {\n            return this.wiki_post?.post?.user_nickname;\n        },\n        updated_at: function () {\n            return ts2str(this.wiki_post?.post?.updated);\n        },\n        fav_title: function () {\n            return this.wiki_post?.source?.Name;\n        },\n        authors: function () {\n            if (!this.isRevision) {\n                return (\n                    this.wiki_post?.users\n                        ?.filter((user) => user.id)\n                        ?.map((user) => {\n                            return {\n                                user_id: user.id,\n                                user_avatar: user.avatar,\n                                display_name: user.nickname,\n                            };\n                        }) || []\n                );\n            }\n            return [];\n        },\n    },\n    watch: {\n        id() {\n            this.getData();\n            this.loadData();\n        },\n        post_id: {\n            handler() {\n                this.loadRevision();\n            },\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/book/single.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Single.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Single.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Single.vue?vue&type=template&id=d4f211a8&\"\nimport script from \"./Single.vue?vue&type=script&lang=js&\"\nexport * from \"./Single.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Single.vue?vue&type=style&index=0&id=d4f211a8&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}