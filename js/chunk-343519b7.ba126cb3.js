(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-343519b7"],{"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("fb6a"),a("d3b7"),a("b0c0"),a("a630"),a("3ca3"),a("ac1f"),a("00b4");var n=a("6b75");function s(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n["a"])(t,e):void 0}}},"126e":function(t,e,a){"use strict";a.r(e);a("b680");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-quest-home"},[e("search-input"),e("wiki-panel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-location-information"}),e("span",[t._v("便捷入口")])]),e("template",{slot:"head-actions"},[e("a",{staticClass:"other",attrs:{target:"_blank",href:t.feedback}},[t._v("反馈建议 »")])]),e("template",{slot:"body"},[e("ul",{staticClass:"u-qlinks"},[e("li",{staticClass:"u-qlink"},[e("a",{staticStyle:{"background-color":"#fe7979"},attrs:{target:"_blank",href:"/tool/9126/"}},[e("i",{staticClass:"el-icon-trophy"}),e("span",[t._v("游戏内看百科")])])]),e("li",{staticClass:"u-qlink"},[e("router-link",{attrs:{to:{name:"waiting"}}},[e("i",{staticClass:"el-icon-edit-outline"}),e("span",[t._v("待攻略任务")]),e("span",{staticClass:"u-waiting",style:t.waitingColorStyle()},[t._v("（"+t._s(t.solveRate.toFixed(2))+"%）")])])],1)])])],2),e("wiki-panel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-1"}),e("span",[t._v("热门任务")])]),e("template",{slot:"body"},[e("quest-carousel",{attrs:{quests:t.hotQuests,views:t.hotViews,hot:!0}})],1)],2),e("wiki-panel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-notebook-2"}),e("span",[t._v("最新任务")])]),e("template",{slot:"head-actions"},[e("router-link",{staticClass:"other",attrs:{to:{name:"newest"}}},[t._v("查看更多 »")])],1),e("template",{slot:"body"},[e("quest-carousel",{attrs:{quests:t.newestQuests}})],1)],2),e("wiki-panel",{attrs:{"border-none":!0}},[e("template",{slot:"head-title"},[e("i",{staticClass:"el-icon-collection"}),e("span",[t._v("最新攻略")])]),e("newest-post",{attrs:{slot:"body"},slot:"body"})],2)],1)},s=[],i=a("b85c"),r=a("c7eb"),o=a("1da1"),c=(a("a15b"),a("b0c0"),a("14d9"),a("7744")),u=a("662c"),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-newest-post"},t._l(t.data,(function(a,n){return e("div",{key:n,staticClass:"u-post"},[e("div",{staticClass:"u-post-head"},[e("div",{staticClass:"u-quest"},[e("router-link",{staticClass:"u-quest-name",attrs:{to:{name:"single",params:{quest_id:a.source_id,post_id:a.id}},target:"_blank"},domProps:{textContent:t._s(t.questName(a.title))}}),e("div",{staticClass:"u-quest-level",domProps:{textContent:t._s("综合难度："+t.star(a.level))}}),a.remark?e("div",{staticClass:"u-post-remark",domProps:{textContent:t._s("📑 "+a.remark)}}):t._e()],1),e("div",{staticClass:"u-post-user"},[e("div",{staticClass:"u-author"},[e("img",{staticClass:"u-icon",attrs:{src:t.showAvatar(a.user_avatar),alt:a.user_nickname}}),e("a",{staticClass:"u-name",attrs:{href:a.user_id?t.authorLink(a.user_id):null,target:"_blank"},domProps:{textContent:t._s(a.user_nickname)}})]),e("div",{staticClass:"u-updated",domProps:{textContent:t._s(t.ts2str(a.updated))}})])]),e("div",{staticClass:"u-post-body"},[e("div",{staticClass:"u-excerpt",attrs:{to:{name:"view",params:{quest_id:a.source_id}}},domProps:{innerHTML:t._s(t.ellipsis(a.excerpt))}})])])})),0)},d=[],f=(a("38cf"),a("498a"),a("fb6a"),a("9622")),p=a("85e4"),m={name:"NewestPost",data:function(){return{data:[]}},mounted:function(){this.getData()},computed:{client:function(){return this.$store.state.client}},methods:{authorLink:p["authorLink"],ts2str:p["ts2str"],iconLink:p["iconLink"],showAvatar:p["showAvatar"],getLink:p["getLink"],getData:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var a,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["b"])(t.client);case 2:if(a=e.sent,n=a.data,200==n.code){e.next=7;break}return t.$message.error(n.msg),e.abrupt("return");case 7:t.data=n.data.newest;case 8:case"end":return e.stop()}}),e)})))()},star:function(t){return"⭐️".repeat(t||1)},ellipsis:function(t){return t=t?t.trim():"",t.length>100?t.slice(0,100)+"...":t},questName:function(t){return t||"未知任务"}}},h=m,b=(a("54ed"),a("2877")),v=Object(b["a"])(h,l,d,!1,null,"f2a5848a",null),w=v.exports,k=a("ade3"),C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-quest-carousel"},[e("el-carousel",{attrs:{height:"66px",direction:"vertical",interval:3500,"indicator-position":"none"}},t._l(t.chunkedQuests,(function(a,n){return e("el-carousel-item",{key:n,staticClass:"m-carousel",class:{"m-hot":t.hot}},[e("el-row",{attrs:{gutter:20}},t._l(a,(function(a,n){var s;return e("el-col",{key:n,attrs:{md:8}},[e("router-link",{staticClass:"u-item",class:(s={},Object(k["a"])(s,"u-item-".concat(n),!0),Object(k["a"])(s,"u-item-new",!t.hot),s),attrs:{to:{name:"single",params:{quest_id:a.id}}}},[e("div",{staticClass:"m-carousel-content"},[e("span",{staticClass:"u-title"},[e("i",{staticClass:"el-icon-aim"}),e("span",{domProps:{textContent:t._s(" ".concat(a.name))}})]),e("span",{staticClass:"u-desc"},[e("i",{staticClass:"el-icon-mic"}),e("span",{domProps:{innerHTML:t._s(" ".concat(a.target))}})]),t.views&&t.views[a.id]?e("span",{staticClass:"u-rank"},[e("i",{staticClass:"el-icon-watermelon"}),e("span",{domProps:{textContent:t._s("昨日 - ".concat(t.views[a.id]["yesterday"]))}}),e("i",{staticClass:"el-icon-grape"}),e("span",{domProps:{textContent:t._s("七天 - ".concat(t.views[a.id]["7days"]))}}),e("i",{staticClass:"el-icon-pear"}),e("span",{domProps:{textContent:t._s("三十天 - ".concat(t.views[a.id]["30days"]))}})]):t._e()])])],1)})),1)],1)})),1)],1)},g=[],_=a("2ef0"),y={name:"QuestCarousel",props:{quests:{type:Array,default:function(){return[]}},views:{type:Object,default:function(){}},hot:{type:Boolean,default:!1}},data:function(){return{chunkedQuests:[]}},watch:{quests:{immediate:!0,handler:function(){this.chunkedQuests=Object(_["chunk"])(this.quests,3)}}}},j=y,O=(a("85b5"),Object(b["a"])(j,C,g,!1,null,"597a7ba0",null)),x=O.exports,q=a("65c2"),P=a("9616"),A={name:"Home",components:{SearchInput:c["a"],NewestPost:w,QuestCarousel:x,WikiPanel:u["a"]},data:function(){return{by:"all",feedback:q["feedback"],newestQuests:[],hotQuests:[],hotViews:{},solveRate:0}},computed:{client:function(){return this.$store.state.client}},methods:{getNewestData:function(){var t=arguments,e=this;return Object(o["a"])(Object(r["a"])().mark((function a(){var n,s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=t.length>0&&void 0!==t[0]?t[0]:1,s={page:n,pageSize:12,client:e.client},Object(f["c"])(s).then((function(t){e.newestQuests=t.data.list}));case 3:case"end":return a.stop()}}),a)})))()},getHotData:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a="origin"==t.client?"origin_quest":"quest",Object(P["b"])(a,"views",12).then((function(e){e=e.data;var a,n=[],s=Object(i["a"])(e);try{for(s.s();!(a=s.n()).done;){var r,o=a.value,c=null===(r=o.name.split("-"))||void 0===r?void 0:r.pop();n.push(c),t.hotViews[c]=o.value}}catch(u){s.e(u)}finally{s.f()}Object(f["e"])({ids:n.join(","),client:t.client}).then((function(e){t.hotQuests=e.data}))}));case 2:case"end":return e.stop()}}),e)})))()},getWaiting:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(f["g"])({client:t.client}).then((function(e){var a,n=null!==(a=e.data.data)&&void 0!==a?a:{},s=n.wiki_count,i=n.source_count;t.solveRate=s/i*100}));case 1:case"end":return e.stop()}}),e)})))()},waitingColorStyle:function(){return this.solveRate>95?"color: #8dfa58":this.solveRate>60?"color: #e2d849":"color: #ff3838"},iconLink:p["iconLink"]},mounted:function(){this.getNewestData(),this.getHotData(),this.getWaiting()}},S=A,L=(a("6b9a"),Object(b["a"])(S,n,s,!1,null,null,null));e["default"]=L.exports},"33a8":function(t,e,a){},"38cf":function(t,e,a){var n=a("23e7"),s=a("1148");n({target:"String",proto:!0},{repeat:s})},"498a":function(t,e,a){"use strict";var n=a("23e7"),s=a("58a8").trim,i=a("c8d2");n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return s(this)}})},"54ed":function(t,e,a){"use strict";a("5af5")},"5af5":function(t,e,a){},"6b75":function(t,e,a){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}a.d(e,"a",(function(){return n}))},"6b9a":function(t,e,a){"use strict";a("d347")},"85b5":function(t,e,a){"use strict";a("33a8")},a15b:function(t,e,a){"use strict";var n=a("23e7"),s=a("e330"),i=a("44ad"),r=a("fc6a"),o=a("a640"),c=s([].join),u=i!=Object,l=u||!o("join",",");n({target:"Array",proto:!0,forced:l},{join:function(t){return c(r(this),void 0===t?",":t)}})},a630:function(t,e,a){var n=a("23e7"),s=a("4df4"),i=a("1c7e"),r=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:r},{from:s})},b85c:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("d9e2");var n=a("06c5");function s(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=Object(n["a"])(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,c=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){c=!0,r=t},f:function(){try{o||null==a["return"]||a["return"]()}finally{if(c)throw r}}}}},c8d2:function(t,e,a){var n=a("5e77").PROPER,s=a("d039"),i=a("5899"),r="​᠎";t.exports=function(t){return s((function(){return!!i[t]()||r[t]()!==r||n&&i[t].name!==t}))}},d347:function(t,e,a){}}]);
//# sourceMappingURL=chunk-343519b7.ba126cb3.js.map