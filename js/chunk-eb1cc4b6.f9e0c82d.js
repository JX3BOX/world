(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb1cc4b6"],{"11a5":function(t,a,n){"use strict";n.r(a);var i=function(){var t=this,a=t._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"v-knowledge-single"},[a("div",{staticClass:"m-navigation"},[a("el-button",{staticClass:"u-goback",attrs:{size:"medium",icon:"el-icon-arrow-left",plain:""},on:{click:t.goBack}},[t._v("返回列表")])],1),t.data&&t.data.post?a("div",{staticClass:"m-wiki"},[a("WikiPanel",{staticClass:"m-knowledge-panel",attrs:{"wiki-post":t.data}},[a("template",{slot:"head-title"},[a("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 412.72 412.72","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M404.72 82.944h-27.2v-9.28a8 8 0 00-5.76-8 225.345 225.345 0 00-57.68-7.36c-32 0-75.6 7.2-107.84 40-32-33.12-75.92-40-107.84-40a225.345 225.345 0 00-57.68 7.36 8 8 0 00-5.76 8v9.2H8a8 8 0 00-8 8v255.52a8 8 0 008 8 7.996 7.996 0 003.92-1.04c.8-.4 80.8-44.16 192.48-16h1.92a8.008 8.008 0 001.92 0c112-28.4 192 15.28 192.48 16a8 8 0 0012-6.88V90.944a8 8 0 00-8-8zM16 333.664V98.944h19.12v200.64a8 8 0 009.2 8 350.096 350.096 0 0150-4 207.516 207.516 0 0168.32 10.32A294.1 294.1 0 0016 333.664zm78.32-46a351.994 351.994 0 00-43.52 2.8V79.984a220.645 220.645 0 0147.44-5.28c29.92 0 71.2 6.88 99.84 39.2l.24 199.28c-16.64-10.88-49.12-25.52-104-25.52zm120-173.76c28.64-32 69.92-39.2 99.84-39.2a221.61 221.61 0 0147.44 5.28v210.48a351.895 351.895 0 00-43.28-2.88c-54.56 0-87.12 14.64-104 25.52v-199.2zm182.32 219.76a294.158 294.158 0 00-146.96-19.76 208.008 208.008 0 0168.64-10.32 349.994 349.994 0 0150.32 3.92 8 8 0 009.2-8V98.944h19.12l-.32 234.72z"}})]),a("span",[t._v(t._s(t.title)+" ")])]),a("template",{slot:"head-actions"},[a("a",{staticClass:"el-button el-button--primary",attrs:{href:t.publishLink("knowledge/".concat(t.id))}},[a("i",{staticClass:"el-icon-edit"}),a("span",[t._v("完善百科通识")])])]),a("template",{slot:"body"},[a("Article",{attrs:{content:t.content}}),a("Thx",{key:"item-thx-"+t.id,staticClass:"m-thx",attrs:{postId:t.id,postType:"knowledge",postTitle:t.title,userId:t.author_id,adminBoxcoinEnable:!0,userBoxcoinEnable:!0,mode:"wiki",authors:t.authors}})],1)],2),t.id?a("WikiRevisions",{staticStyle:{"margin-bottom":"35px"},attrs:{type:"knowledge","source-id":t.id}}):t._e(),t.id?[a("el-divider",{attrs:{"content-position":"left"}},[t._v("讨论")]),a("Comment",{attrs:{id:t.id,category:"knowledge"}})]:t._e()],2):a("div",{staticClass:"m-wiki-null"},[a("i",{staticClass:"el-icon-s-opportunity"}),a("span",[t._v("暂无内容，我要")]),a("a",{staticClass:"s-link",attrs:{href:t.publishLink("knowledge/".concat(t.id))}},[t._v("完善百科通识")])])])},e=[],o=(n("b0c0"),n("4de4"),n("d3b7"),n("d81d"),n("434b")),s=n("9616"),r=n("85e4"),u=n("662c"),d=n("9307"),c=n("a974"),l=n("23d8"),p={name:"Detail",data:function(){return{loading:!1,data:""}},components:{Article:c["a"],WikiPanel:u["a"],WikiRevisions:d["a"],Comment:l["a"]},computed:{id:function(){return this.$route.params.source_id},type:function(){var t,a;return null===(t=this.data)||void 0===t||null===(a=t.source)||void 0===a?void 0:a.type},isRevision:function(){return!!this.$route.params.post_id},author_id:function(){var t,a;return~~(null===(t=this.data)||void 0===t||null===(a=t.post)||void 0===a?void 0:a.user_id)},title:function(){var t,a;return null===(t=this.data)||void 0===t||null===(a=t.source)||void 0===a?void 0:a.name},content:function(){var t,a;return null===(t=this.data)||void 0===t||null===(a=t.post)||void 0===a?void 0:a.content},authors:function(){var t,a,n;return this.isRevision?[]:(null===(t=this.data)||void 0===t||null===(a=t.users)||void 0===a||null===(n=a.filter((function(t){return t.id})))||void 0===n?void 0:n.map((function(t){return{user_id:t.id,user_avatar:t.avatar,display_name:t.nickname}})))||[]}},methods:{getData:function(){var t=this;this.loading=!0,Object(o["a"])(this.id).then((function(a){t.data=a,t.data.source&&(t.data.source.post=t.data.post)})).finally((function(){t.loading=!1,Object(s["b"])(t.type,t.id)}))},getPostData:function(){var t=this;this.loading=!0,Object(o["d"])(this.$route.params.post_id).then((function(a){t.data=a,t.data.source&&(t.data.source.post=t.data.post)})).finally((function(){t.loading=!1,Object(s["b"])(t.type,t.id)}))},goBack:function(){this.$router.push({name:"normal",params:{knowledge_type:this.data.source.type}})},publishLink:r["publishLink"]},created:function(){this.getData(this.id)},watch:{"$route.params.post_id":{immediate:!0,handler:function(){this.$route.params.post_id&&this.getPostData()}}}},v=p,h=(n("9421"),n("2877")),f=Object(h["a"])(v,i,e,!1,null,null,null);a["default"]=f.exports},"434b":function(t,a,n){"use strict";n.d(a,"b",(function(){return e})),n.d(a,"e",(function(){return o})),n.d(a,"a",(function(){return s})),n.d(a,"d",(function(){return r})),n.d(a,"c",(function(){return u})),n.d(a,"f",(function(){return d}));var i=n("41cb");function e(t){return Object(i["b"])().get("api/knowledge/menu_list",{params:t}).then((function(t){return t.data.data}))}function o(t){return Object(i["b"])().get("api/knowledges",{params:t}).then((function(t){return t.data.data}))}function s(t){return Object(i["b"])().get("api/wiki/post",{params:{source_id:t,type:"knowledge"}}).then((function(t){return t.data.data}))}function r(t){return Object(i["b"])().get("api/wiki/post/".concat(t)).then((function(t){return t.data.data}))}function u(t){return Object(i["b"])().get("/api/wiki/posts/newest",{params:t}).then((function(t){return t.data.data}))}function d(t){return Object(i["b"])().get("/api/menu_groups",{params:t}).then((function(t){return t.data.data}))}},9421:function(t,a,n){"use strict";n("99f6")},"99f6":function(t,a,n){}}]);
//# sourceMappingURL=chunk-eb1cc4b6.f9e0c82d.js.map