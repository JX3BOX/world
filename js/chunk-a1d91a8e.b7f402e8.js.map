{"version":3,"sources":["webpack:///./src/components/book/common/item_icon.vue","webpack:///src/components/book/common/item_icon.vue","webpack:///./src/components/book/common/item_icon.vue?3370","webpack:///./src/components/book/common/item_icon.vue?9c18","webpack:///./src/service/book.js","webpack:///./node_modules/@jx3box/jx3box-common/js/wiki.js","webpack:///./src/views/book/Single.vue?5bc5","webpack:///./src/components/book/common/item_icon.vue?ebb0","webpack:///./src/components/book/common/search_input.vue?8fc4","webpack:///./src/components/book/common/search_input.vue","webpack:///src/components/book/common/search_input.vue","webpack:///./src/components/book/common/search_input.vue?c4fb","webpack:///./src/components/book/common/search_input.vue?7ac5","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/views/book/Single.vue","webpack:///src/views/book/Single.vue","webpack:///./src/views/book/Single.vue?88b6","webpack:///./src/views/book/Single.vue?7527"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","class","background","onlyIcon","is_vertical","vertical","onlyName","_e","style","size","getLink","source","id","iconLink","IconID","backgroundImage","item_border","opacity","Quality","item_border_quest","display_amount","_v","_s","Name","staticRenderFns","name","data","real_id","maybeBook","components","props","type","default","item_id","amount","methods","get_data","get_item","then","sessionStorage","catch","computed","client","cache_key","watch","immediate","handler","console","mounted","component","$","$node","getList","params","get","getInfo","getPet","petid","wiki","source_id","post_id","post","put","source_type","isEmpty","compatible","users","res","log","res_1","res_2","pet","ItemTabType","ItemTabIndex","handleMix","wikiComment","comment_id","$route","on","return_handle","nativeOn","$event","indexOf","_k","keyCode","key","search","apply","arguments","model","value","keyword","callback","$$v","expression","history","query","uncurryThis","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","undefined","directives","rawName","loading","itemID","book","idKey","domProps","Desc","getProfessionType","ExtendProfessionID1","BookName","contentInfo","ItemIcon","SearchInput","Comment","wiki_post","is_empty","bookProfession","getData","finally","loadData","supply","loadRevision","publish_url","triggerStat","postStat","isRevision","author_id","user_name","updated_at","fav_title","authors","filter","map","user_id","user_avatar","display_name"],"mappings":"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","file":"js/chunk-a1d91a8e.b7f402e8.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-popover',{staticClass:\"u-item\",attrs:{\"placement\":\"right-start\",\"trigger\":\"hover\",\"visible-arrow\":false,\"popper-class\":\"u-item__popup\"}},[_c('template',{slot:\"reference\"},[_c('div',{staticClass:\"u-item__warpper\",class:{ background: !_vm.onlyIcon, is_vertical: _vm.vertical }},[(!_vm.onlyName)?_c('a',{staticClass:\"u-item-icon\",style:(`height:${_vm.size}px; width:${_vm.size}px`),attrs:{\"target\":\"_blank\",\"href\":_vm.getLink('item', _vm.source.id)}},[_c('img',{staticClass:\"u-item-icon__img\",style:(`height:${_vm.size}px; width:${_vm.size}px`),attrs:{\"src\":_vm.iconLink(_vm.source.IconID)}}),_c('div',{staticClass:\"u-item-icon__quality\",style:({ backgroundImage: _vm.item_border(_vm.source), opacity: _vm.source.Quality == 5 ? 0.9 : 1 })}),_c('div',{staticClass:\"u-item-icon__quest\",style:({ backgroundImage: _vm.item_border_quest(_vm.source) })}),(_vm.display_amount !== 1)?_c('span',{staticClass:\"u-item-icon__count\"},[_vm._v(_vm._s(_vm.display_amount))]):_vm._e()]):_vm._e(),(!_vm.onlyIcon)?_c('div',{staticClass:\"u-item-name\",class:`e-jx3-item__q${_vm.source.Quality}`},[_vm._v(\" \"+_vm._s(_vm.source.Name)+\" \")]):_vm._e()])]),_c('jx3-item',{attrs:{\"item\":_vm.source}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Author: X3ZvaWQ\n * @Date: 2022-07-11 00:14:57\n * @LastEditors: X3ZvaWQ\n * @LastEditTime: 2022-08-23 20:11:18\n * @Description: 各个地方都有用到的，后端没有联物品表，只提供了物品id，通过该组件展示物品\n-->\n<template>\n    <el-popover\n        class=\"u-item\"\n        placement=\"right-start\"\n        trigger=\"hover\"\n        :visible-arrow=\"false\"\n        popper-class=\"u-item__popup\"\n    >\n        <template slot=\"reference\">\n            <div class=\"u-item__warpper\" :class=\"{ background: !onlyIcon, is_vertical: vertical }\">\n                <a\n                    class=\"u-item-icon\"\n                    target=\"_blank\"\n                    :style=\"`height:${size}px; width:${size}px`\"\n                    :href=\"getLink('item', source.id)\"\n                    v-if=\"!onlyName\"\n                >\n                    <img\n                        class=\"u-item-icon__img\"\n                        :style=\"`height:${size}px; width:${size}px`\"\n                        :src=\"iconLink(source.IconID)\"\n                    />\n                    <div\n                        class=\"u-item-icon__quality\"\n                        :style=\"{ backgroundImage: item_border(source), opacity: source.Quality == 5 ? 0.9 : 1 }\"\n                    ></div>\n                    <div class=\"u-item-icon__quest\" :style=\"{ backgroundImage: item_border_quest(source) }\"></div>\n                    <span class=\"u-item-icon__count\" v-if=\"display_amount !== 1\">{{ display_amount }}</span>\n                </a>\n                <div v-if=\"!onlyIcon\" class=\"u-item-name\" :class=\"`e-jx3-item__q${source.Quality}`\">\n                    {{ source.Name }}\n                </div>\n            </div>\n        </template>\n        <jx3-item :item=\"source\" />\n    </el-popover>\n</template>\n\n<script>\nimport Item from \"@jx3box/jx3box-editor/src/Item\";\nimport { get_item } from \"@jx3box/jx3box-editor/service/item\";\nimport { iconLink, getLink } from \"@jx3box/jx3box-common/js/utils\";\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nexport default {\n    name: \"ItemIcon\",\n    data() {\n        return {\n            source: {},\n            real_id: null,\n            maybeBook: false,\n        };\n    },\n    components: {\n        \"jx3-item\": Item,\n    },\n    props: {\n        size: {\n            type: Number,\n            default: 28,\n        },\n        item_id: {\n            type: String,\n            default: null,\n        },\n        amount: {\n            type: Number,\n            default: 1,\n        },\n        onlyName: {\n            type: Boolean,\n            default: false,\n        },\n        onlyIcon: {\n            type: Boolean,\n            default: false,\n        },\n        vertical: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    methods: {\n        get_data(item_id) {\n            if (item_id) {\n                get_item(item_id, this.client)\n                    .then((res) => {\n                        let data = res.data;\n                        let item = data.data.item;\n                        if (Object.keys(item).length) {\n                            this.source = item;\n                            sessionStorage.setItem(this.cache_key, JSON.stringify(item));\n                        }\n                    })\n                    .catch((e) => {\n                        //书籍类物品id为 type_id_recipe， 其中recipe记录在物品的count里面\n                        if (e?.data?.code == 400) {\n                            if (this.maybeBook === false) {\n                                this.maybeBook = true;\n                                this.real_id = `${this.item_id}_${this.amount}`;\n                            }\n                        }\n                    });\n            }\n        },\n        iconLink,\n        getLink,\n        item_border_quest(item) {\n            if (item.IsQuest > 0) return `url(${__imgPath}image/item/renwu.png)`;\n            return \"\";\n        },\n        item_border(item) {\n            switch (item.Quality) {\n                case 3:\n                    return `url(${__imgPath}image/item/blue.png)`;\n                case 4:\n                    return `url(${__imgPath}image/item/purple.png)`;\n                case 5:\n                    return `url(${__imgPath}image/item/orange.gif)`;\n                default:\n                    return \"\";\n            }\n        },\n    },\n    computed: {\n        client() {\n            return this.$store.state.client;\n        },\n        cache_key() {\n            return `item-${this.client}-${this.real_id}`;\n        },\n        display_amount() {\n            if (this.maybeBook === false) {\n                return this.amount;\n            } else {\n                return 1;\n            }\n        },\n    },\n    watch: {\n        real_id: {\n            immediate: true,\n            handler() {\n                let _cache = sessionStorage.getItem(this.cache_key);\n                if (_cache) {\n                    try {\n                        this.source = JSON.parse(_cache);\n                    } catch (e) {\n                        console.log(e, \"[Item]无法解析本地缓存\");\n                        this.get_data(this.real_id);\n                    }\n                } else {\n                    this.get_data(this.real_id);\n                }\n            },\n        },\n    },\n    mounted() {\n        this.real_id = this.item_id;\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/book/common/item_icon.less\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item_icon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item_icon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./item_icon.vue?vue&type=template&id=7f0d2f02&\"\nimport script from \"./item_icon.vue?vue&type=script&lang=js&\"\nexport * from \"./item_icon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./item_icon.vue?vue&type=style&index=0&id=7f0d2f02&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { $node } from \"@jx3box/jx3box-common/js/https\";\nconst $ = $node()\n\nexport function getList (params) {\n  return $.get(`/books`, { params });\n}\n\nexport function getInfo (params) {\n  return $.get(`/book`, { params });\n}","import { $helper, $node } from \"./https\";\n\nfunction getPet(petid, params) {\n    return $node().get(`/pet/${petid}`, {\n        params\n    });\n}\n\nconst wiki = {\n    // 获取最新攻略\n    get({ type, id }, params) {\n        return $helper().get(`/api/wiki/post`, {\n            params: {\n                ...params,\n                type,\n                source_id: id,\n            }\n        })\n    },\n    // 根据post_id获取攻略\n    getById(post_id, params) {\n        return $helper().get(`/api/wiki/post/${post_id}`, {\n            params\n        })\n    },\n    // 获取最新攻略列表\n    list({ type }, params) {\n        return $helper().get(`/api/wiki/posts/newest`, {\n            params: {\n                ...params,\n                type,\n            }\n        })\n    },\n    // 创建/更新攻略\n    post({ type, data, client }, params) {\n        return $helper().post(`/api/wiki/post`, {\n            post: {\n                ...data,\n                type,\n            },\n            client\n        }, {\n            params: params\n        })\n    },\n    // 获取历史版本\n    versions({ type, id }, params) {\n        return $helper().get(`/api/wiki/post/versions`, {\n            params: {\n                ...params,\n                type,\n                source_id: id,\n            }\n        })\n    },\n    // 获取我的百科攻略列表\n    myList(params) {\n        return $helper().get(`/api/my/wiki/posts`, {\n            params\n        })\n    },\n    // 删除我的百科攻略\n    delete(post_id) {\n        return $helper().put(`/api/my/wiki/post/${post_id}/remove`)\n    },\n    // 获取兼容攻略\n    async handleMix(source_type, source_id, client, params) {\n        let post = '';\n        let source = '';\n        let isEmpty = true;\n        let compatible = false;\n        let users = [];\n        if (client === 'std') {\n            const res = await this.get({ type: source_type, id: source_id }, { client, ...params });\n            post = res.data.data.post;\n            source = res.data.data.source;\n            users = res.data.data.users;\n            post && (isEmpty = false);\n            console.log(\"获取重制攻略\");\n            return { post, source, isEmpty, compatible, type: source_type, source_id: source_id, users };\n        } else {\n            const res_1 = await this.get({ type: source_type, id: source_id }, { client, ...params });\n            source = res_1.data.data.source;\n            post = res_1.data.data.post;\n            users = res_1.data.data.users;\n            post && (isEmpty = false);\n            console.log(\"获取缘起攻略\");\n            const data = !!res_1.data.data.post;\n            if (!data) {\n                console.log(\"兼容：获取重制攻略\");\n                return this.get({ type: source_type, id: source_id }, { client: 'std', ...params }).then(res_2 => {\n                    post = res_2.data.data.post;\n                    if (!source)\n                        source = res_2.data.data.source;\n                    post && (isEmpty = false);\n                    users = res_2.data.data.users;\n                    compatible = true;\n                    return { post, source, isEmpty, compatible, type: source_type, source_id: source_id, users };\n                });\n            }\n            return { post, source, isEmpty, compatible, type: source_type, source_id: source_id, users };\n        }\n    },\n    // 兼容怀旧服\n    async mix({ type, id, client }, params) {\n        let source_type = '';\n        let source_id = '';\n        if (type === 'cj') {\n            source_type = 'achievement';\n        } else if (type === 'pet') {\n            source_type = 'item';\n        } else {\n            source_type = type || 'achievement';\n        }\n\n        if (id) {\n            source_id = id;\n            if (type === 'pet') {\n                const res = await getPet(id, { client });\n                let pet = res.data;\n                let source_id = pet.ItemTabType + \"_\" + pet.ItemTabIndex;\n                return this.handleMix(source_type, source_id, client, params);\n            } else {\n                return this.handleMix(source_type, source_id, client, params);\n            }\n        }\n    },\n}\n\nconst wikiComment = {\n    // 百科评论列表\n    list({ type, id }, params) {\n        return $helper().get(`/api/wiki/comments`, {\n            params: {\n                ...params,\n                type,\n                source_id: id,\n            }\n        })\n    },\n    post({ data }, params) {\n        return $helper().post(`/api/wiki/comment`, {\n            ...data\n        }, {\n            params\n        })\n    },\n    // 删除我的百科评论\n    delete(comment_id) {\n        return $helper().put(`/api/my/wiki/comment/${comment_id}/remove`)\n    },\n    // 获取我的百科评论列表\n    myList(params) {\n        return $helper().get(`/api/my/wiki/comments`, {\n            params\n        })\n    }\n}\n\nexport { wiki, wikiComment };\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Single.vue?vue&type=style&index=0&id=fa333116&prod&lang=less&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item_icon.vue?vue&type=style&index=0&id=7f0d2f02&prod&lang=less&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./search_input.vue?vue&type=style&index=0&id=6124f365&prod&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-filter-wrap\",class:_vm.$route.name === 'single' ? 'can-return' : ''},[_c('div',{staticClass:\"m-return\"},[_c('el-button',{staticClass:\"u-return-btn\",on:{\"click\":_vm.return_handle}},[_c('i',{staticClass:\"el-icon-arrow-left\"}),_vm._v(\"返回\")])],1),_c('div',{staticClass:\"m-search-input\"},[_c('el-input',{attrs:{\"placeholder\":\"输入书籍名称/描述，「回车」进行搜索\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.search.apply(null, arguments)}},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" 关键词 \")]),_c('el-button',{attrs:{\"slot\":\"append\"},on:{\"click\":_vm.search},slot:\"append\"},[_c('div',{staticClass:\"u-input-button__normal\"},[_c('i',{staticClass:\"el-icon-position\"}),_c('span',[_vm._v(\"搜索\")])]),_c('span',{staticClass:\"u-input-button__small\"},[_c('i',{staticClass:\"xs el-icon-search\"})])])],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"m-filter-wrap\" :class=\"$route.name === 'single' ? 'can-return' : ''\">\n    <div class=\"m-return\">\n\t\t\t<el-button class=\"u-return-btn\" @click=\"return_handle\"><i class=\"el-icon-arrow-left\"></i>返回</el-button>\n\t\t</div>\n    <div class=\"m-search-input\">\n      <el-input\n        placeholder=\"输入书籍名称/描述，「回车」进行搜索\"\n        v-model=\"keyword\"\n        clearable\n        @keyup.enter.native=\"search\"\n      >\n        <span slot=\"prepend\">\n          <i class=\"el-icon-search\"></i> 关键词\n        </span>\n        <el-button\n          @click=\"search\"\n          slot=\"append\"\n        >\n          <div class=\"u-input-button__normal\">\n            <i class=\"el-icon-position\"></i>\n            <span>搜索</span>\n          </div>\n          <span class=\"u-input-button__small\"><i class=\"xs el-icon-search\"></i></span>\n        </el-button>\n      </el-input>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SearchInput\",\n  data () {\n    return {\n      keyword: \"\"\n    };\n  },\n  methods: {\n\t\treturn_handle() {\n\t\t\thistory.back();\n\t\t},\n    search (go) {\n      if (!go) return;\n      this.$router.push({\n        name: \"result\",\n        query: { keyword: this.keyword },\n      });\n    }\n  },\n  mounted () {\n  },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/book/common/search_input.less\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./search_input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./search_input.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search_input.vue?vue&type=template&id=6124f365&\"\nimport script from \"./search_input.vue?vue&type=script&lang=js&\"\nexport * from \"./search_input.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search_input.vue?vue&type=style&index=0&id=6124f365&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-book-view\"},[_c('div',{staticClass:\"m-search\"},[_c('search-input')],1),_c('div',{staticClass:\"m-book-content\"},[_c('div',{staticClass:\"w-book\"},[_c('p',{staticClass:\"u-title__warpper\"},[_c('span',{staticClass:\"u-name-icon\"},[_c('item-icon',{attrs:{\"item_id\":_vm.itemID,\"size\":36}})],1),_c('span',{staticClass:\"u-title-id\"},[_vm._v(\" ID:\"+_vm._s(_vm.book.idKey)+\" \")]),_c('span',{staticClass:\"u-desc\",domProps:{\"innerHTML\":_vm._s(_vm.book.Desc)}})]),_c('div',{staticClass:\"u-info__wrapper\"},[_c('div',{staticClass:\"common-info__content\"},[_c('p',{staticClass:\"u-subtitle\"},[_vm._v(\"【书籍信息】\")]),_c('div',{staticClass:\"u-book-info\"},[_c('div',{staticClass:\"u-item\"},[_vm._v(\"类型：\"+_vm._s(_vm.getProfessionType(_vm.book.ExtendProfessionID1)))]),_c('div',{staticClass:\"u-item\"},[_vm._v(\"套书：\"+_vm._s(_vm.book.BookName))]),_c('div',{staticClass:\"u-item\"},[_vm._v(\"抄录相关：\")])])]),(_vm.book.contentInfo)?_c('div',{staticClass:\"book-info__content\"},[_c('p',{staticClass:\"u-subtitle\"},[_vm._v(\"【书籍内容】\")]),_c('div',{staticClass:\"book-content\",domProps:{\"innerHTML\":_vm._s(_vm.book.contentInfo)}})]):_vm._e()])])]),_c('div',{staticClass:\"m-comment\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"讨论\")]),_c('Comment',{attrs:{\"id\":_vm.id,\"category\":\"book\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-loading=\"loading\" class=\"m-book-view\">\n        <div class=\"m-search\">\n            <search-input></search-input>\n        </div>\n        <div class=\"m-book-content\">\n            <div class=\"w-book\">\n                <p class=\"u-title__warpper\">\n                    <span class=\"u-name-icon\">\n                        <item-icon :item_id=\"itemID\" :size=\"36\"></item-icon>\n                    </span>\n                    <span class=\"u-title-id\"> ID:{{ book.idKey }} </span>\n                    <span class=\"u-desc\" v-html=\"book.Desc\"></span>\n                </p>\n                <div class=\"u-info__wrapper\">\n                    <div class=\"common-info__content\">\n                        <p class=\"u-subtitle\">【书籍信息】</p>\n                        <div class=\"u-book-info\">\n                            <div class=\"u-item\">类型：{{ getProfessionType(book.ExtendProfessionID1) }}</div>\n                            <div class=\"u-item\">套书：{{ book.BookName }}</div>\n                            <div class=\"u-item\">抄录相关：</div>\n                        </div>\n                    </div>\n                    <div v-if=\"book.contentInfo\" class=\"book-info__content\">\n                        <p class=\"u-subtitle\">【书籍内容】</p>\n                        <div class=\"book-content\" v-html=\"book.contentInfo\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"m-comment\">\n            <el-divider content-position=\"left\">讨论</el-divider>\n            <Comment :id=\"id\" category=\"book\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport ItemIcon from \"@/components/book/common/item_icon.vue\";\nimport SearchInput from \"@/components/book/common/search_input.vue\";\nimport bookProfession from \"@/assets/data/book_profession.json\";\n\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nimport { postStat } from \"@jx3box/jx3box-common/js/stat.js\";\nimport { wiki } from \"@jx3box/jx3box-common/js/wiki.js\";\n// import { getAppIcon } from \"@jx3box/jx3box-common/js/utils\";\n\nimport { publishLink, ts2str, showAvatar, iconLink } from \"@jx3box/jx3box-common/js/utils\";\n\nimport { getInfo } from \"@/service/book\";\n// import isArray from \"lodash/isArray\";\nimport Comment from \"@jx3box/jx3box-comment-ui/src/Comment.vue\";\n\nexport default {\n    name: \"bookSingle\",\n    components: {\n        ItemIcon,\n        SearchInput,\n        Comment,\n    },\n    data() {\n        return {\n            wiki_post: {\n                source: {},\n                post: null,\n            },\n            compatible: false,\n            is_empty: true,\n\n            book: {\n                idKey: \"\",\n                Name: \"\",\n                Desc: \"\",\n                BookName: \"\",\n                contentInfo: \"\",\n            },\n            loading: false,\n            // icon: getAppIcon(\"book\"),\n        };\n    },\n    methods: {\n        getProfessionType(type) {\n            return bookProfession.find((item) => item.id === Number(type))\n                ? bookProfession.find((item) => item.id === Number(type)).name\n                : \"\";\n        },\n        getData() {\n            this.loading = true;\n            getInfo({\n                id: this.idKey,\n                client: this.client,\n            })\n                .then((res) => {\n                    const data = res.data;\n                    data.contentInfo = data.contents.map((item) => item.content.replace(/\\\\n/g, \"<br>\")).join(\"<br>\");\n                    this.book = data;\n                })\n                .finally(() => {\n                    this.loading = false;\n                })\n                .catch(() => {\n                    this.loading = false;\n                });\n        },\n        //百科相关\n        loadData: function () {\n            // 获取最新攻略\n            if (this.id) {\n                wiki.mix({ type: \"book\", id: this.id, client: this.client }, { supply: 1 }).then((res) => {\n                    const { post, source, compatible, isEmpty, users } = res;\n                    this.wiki_post = {\n                        post: post,\n                        source: source,\n                        users,\n                    };\n                    this.is_empty = isEmpty;\n                    this.compatible = compatible;\n                });\n            }\n            this.triggerStat();\n        },\n        loadRevision: function () {\n            // 获取指定攻略\n            wiki.getById(this.post_id, { type: \"book\" }).then((res) => {\n                this.wiki_post = res?.data?.data;\n            });\n            this.triggerStat();\n        },\n        publish_url: publishLink,\n        triggerStat: function () {\n            if (this.client == \"origin\") {\n                postStat(\"origin_book\", this.id);\n            } else {\n                postStat(\"book\", this.id);\n            }\n        },\n    },\n    mounted() {\n        this.getData();\n        if (this.post_id) {\n            this.loadRevision();\n        } else {\n            this.loadData();\n        }\n    },\n    computed: {\n        itemID: function () {\n            return this.$route.params.item_id;\n        },\n        idKey: function () {\n            return this.$route.params.book_id;\n        },\n        id: function () {\n            return parseInt(this.$route.params.book_id);\n        },\n        client() {\n            return this.$store.state.client;\n        },\n\n        //wiki相关\n        post_id: function () {\n            return this.$route.params.post_id;\n        },\n        isRevision: function () {\n            return !!this.$route.params.post_id;\n        },\n        author_id: function () {\n            return ~~this.wiki_post?.post?.user_id;\n        },\n        user_name: function () {\n            return this.wiki_post?.post?.user_nickname;\n        },\n        updated_at: function () {\n            return ts2str(this.wiki_post?.post?.updated);\n        },\n        fav_title: function () {\n            return this.wiki_post?.source?.Name;\n        },\n        authors: function () {\n            if (!this.isRevision) {\n                return (\n                    this.wiki_post?.users\n                        ?.filter((user) => user.id)\n                        ?.map((user) => {\n                            return {\n                                user_id: user.id,\n                                user_avatar: user.avatar,\n                                display_name: user.nickname,\n                            };\n                        }) || []\n                );\n            }\n            return [];\n        },\n    },\n    watch: {\n        id() {\n            this.getData();\n            this.loadData();\n        },\n        post_id: {\n            handler() {\n                this.loadRevision();\n            },\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/book/single.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Single.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Single.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Single.vue?vue&type=template&id=fa333116&\"\nimport script from \"./Single.vue?vue&type=script&lang=js&\"\nexport * from \"./Single.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Single.vue?vue&type=style&index=0&id=fa333116&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}